<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>About Me — Taimoor Hanif</title>
  <link rel="stylesheet" href="assets/styles.css" />
  <link rel="stylesheet" href="assets/slider.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" crossorigin="" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet.fullscreen/Control.FullScreen.css" />
  <script>
    // Apply saved theme asap to prevent flash
    (function(){
      try{
        var t = localStorage.getItem('theme');
        var prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
        var root = document.documentElement;
        if(!t) t = prefersDark ? 'dark' : 'light';
        root.classList.toggle('theme-dark', t === 'dark');
        root.classList.toggle('theme-light', t === 'light');
      }catch(e){}
    })();
  </script>
</head>
<body>
  <nav class="navbar">
    <div class="navbar-logo"><h1>Taimoor Hanif</h1></div>
    <ul class="navbar-links">
      <li><a href="index.html#home"><i class="fas fa-home"></i> Home</a></li>
      <li><a href="index.html#about" class="active"><i class="fas fa-user"></i> About</a></li>
      <li><a href="index.html#experience"><i class="fas fa-briefcase"></i> Experience</a></li>
      <li><a href="index.html#projects"><i class="fas fa-project-diagram"></i> Projects</a></li>
      <li><a href="index.html#skills"><i class="fas fa-tools"></i> Skills</a></li>
      <li><a href="index.html#education"><i class="fas fa-graduation-cap"></i> Education</a></li>
      <li><a href="index.html#contact"><i class="fas fa-envelope"></i> Contact</a></li>
    </ul>
    <div class="navbar-right">
      <button class="theme-toggle" id="theme-toggle" aria-label="Toggle theme">
        <i class="fas fa-moon"></i>
      </button>
      <button class="menu-toggle" id="menu-toggle" aria-label="Toggle menu">
        <i class="fas fa-bars"></i>
      </button>
    </div>
    <div class="nav-progress" aria-hidden="true"></div>
  </nav>

  <main class="main-content">
    <section class="sub-hero">
      <h1 class="hero-title" style="color:var(--primary-text); letter-spacing:1px;">About Me</h1>
      <p class="hero-desc" style="color:var(--secondary-text); max-width:780px">A deeper look at my background, values and how I design, build and ship geospatial products.</p>
    </section>

    <section class="about about-detail">
      <div class="about-content">
        <div class="about-text">
          <p>I'm a GIS Developer and Data Scientist focused on turning spatial data into useful, reliable products. I enjoy working across the stack—from data engineering and model development to API design and intuitive web maps.</p>
          <p>My approach blends clean engineering practices with practical UX. I care about performance, accessibility, and maintainability. Whether it's optimizing raster pipelines, building spatial indexes, or designing map interactions, I'm motivated by the impact on end users.</p>
          <p>When not coding, I explore map design, read about urban systems, and contribute to open‑source geo stacks.</p>
          <ul class="skills-list">
            <li>Product thinking</li>
            <li>API design</li>
            <li>Spatial indexing</li>
            <li>Caching strategies</li>
            <li>Testing and CI</li>
            <li>Visualization</li>
          </ul>
          <div style="margin-top:1rem">
            <a href="index.html#projects" class="btn btn-primary">See Projects</a>
          </div>
        </div>
        <div class="about-image">
          <div class="about-card">
              <img src="Public/Images/MyImage.jpg" alt="Taimoor Hanif" style="width:100%;height:auto;border-radius:12px;object-fit:cover;" />
          </div>
        </div>
      </div>
    </section>

    <section class="map-section">
      <h2 class="section-title">Experience & Exposure</h2>
      <p class="section-subtitle">A quick tour across places I've studied and worked.</p>
      <div id="expMap" aria-label="Experience map showing Lahore, Islamabad, Riyadh and Enschede"></div>
    </section>
  </main>

  <!-- Contact Section (copied from index.html) -->
  <section id="contact" class="contact">
    <div class="section-container">
      <div class="section-header">
        <h2>Get In Touch</h2>
      </div>
      <div class="contact-card">
        <div class="contact-content">
          <p>I'm open to opportunities and collaborations in GIS development and data science. If you have a question or a project in mind, let’s talk.</p>
          <div class="contact-actions">
            <a href="mailto:taimoor394@yahoo.com" class="btn btn-dark">Say Hello</a>
            <a href="index.html#projects" class="btn btn-outline">View Projects</a>
          </div>
          <a href="mailto:taimoor394@yahoo.com" class="email-link">taimoor394@yahoo.com</a>
        </div>
      </div>
    </div>
  </section>

  <footer class="footer">
    <div style="display: flex; flex-direction: column; align-items: center;">
      <div class="social-links" style="margin-bottom: 0.7em;">
        <a href="https://github.com/taimoorh13" target="_blank" rel="noopener"><i class="fab fa-github"></i></a>
        <a href="https://www.linkedin.com/in/taimoor-hanif-99982b150/" target="_blank" rel="noopener"><i class="fab fa-linkedin-in"></i></a>
        <a href="https://www.upwork.com/freelancers/~0102d3c1d1de6adcab" target="_blank" rel="noopener" title="Upwork"><i class="fas fa-laptop-code"></i></a>
      </div>
      <div class="footer-copyright" style="text-align: center; color: var(--secondary-text); font-size: 0.95em;">
        &copy; 2025 Taimoor Hanif. All rights reserved.
      </div>
    </div>
  </footer>

  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" crossorigin=""></script>
  <script src="https://unpkg.com/leaflet.fullscreen/Control.FullScreen.js"></script>
  <script src="scripts/main.js"></script>
  <script>
  // Inline map init specific to about page
  (function(){
    const mapEl = document.getElementById('expMap');
    if(!mapEl || typeof L === 'undefined') return;

    const map = L.map('expMap', { zoomControl: true, scrollWheelZoom: false, fullscreenControl: true });
    // Basemaps
    const baseLayers = {
      'Light': L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', { maxZoom: 19, attribution: '&copy; OpenStreetMap & CARTO' }),
      'Dark': L.tileLayer('https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png', { maxZoom: 19, attribution: '&copy; OpenStreetMap & CARTO' }),
      'OSM': L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', { maxZoom: 19, attribution: '&copy; OpenStreetMap' })
    };
  // Start with layer matching theme
  const isDark = document.documentElement.classList.contains('theme-dark');
  (isDark ? baseLayers['Dark'] : baseLayers['Light']).addTo(map);

    const points = [
      { id: 'lahore', name: 'Lahore, Pakistan', latlng: [31.5204, 74.3587], desc: '<strong>Junior GIS Developer (2021)</strong><br/>GeoMap Solutions — first web mapping features and data loaders.' },
      { id: 'islamabad', name: 'Islamabad, Pakistan', latlng: [33.6844, 73.0479], desc: '<strong>GIS Developer (2022)</strong><br/>Urban Analytics Lab — spatial ETL, geocoding and network analysis.' },
      { id: 'riyadh', name: 'Riyadh, Saudi Arabia', latlng: [24.7136, 46.6753], desc: '<strong>Data Scientist (2023-24)</strong><br/>Geospatial ML projects and dashboards across KSA.' },
      { id: 'enschede', name: 'Enschede, Netherlands', latlng: [52.2215, 6.8937], desc: '<strong>M.Sc. Spatial Engineering</strong><br/>University of Twente — geospatial research & prototyping.' }
    ];

    const allBounds = L.latLngBounds(points.map(p => p.latlng));

    // Pulsing markers
    const PulseIcon = L.DivIcon.extend({ options: { className: '', html: '<span class="pulse-marker"></span>', iconSize: [18,18], iconAnchor: [9,9] } });
    const pulseIcon = new PulseIcon();
    const markers = points.map(p => L.marker(p.latlng, { icon: pulseIcon, title: p.name }).bindPopup(`<strong>${p.name}</strong><br/>${p.desc}`));
    markers.forEach(m => m.addTo(map));

  // Path
  const routeLatLngs = points.map(p=>p.latlng);
  const route = L.polyline(routeLatLngs, { color: '#6a45ff', weight: 3, opacity: .85 }).addTo(map);
  // Plane icon for animation
  const PlaneIcon = L.DivIcon.extend({ options: { className: '', html: '<span class="plane-marker"><i class="fas fa-plane"></i></span>', iconSize: [26,26], iconAnchor: [13,13] } });
  const plane = L.marker(routeLatLngs[0], { icon: new PlaneIcon() }).addTo(map);

    // Ensure proper centering and sizing
  function fitAll(){ map.fitBounds(allBounds, { padding: [30,30] }); }
    fitAll();
    window.addEventListener('load', () => { setTimeout(()=>{ map.invalidateSize(); fitAll(); }, 50); });
  window.addEventListener('resize', () => { if(!playing) fitAll(); });

    // Tour logic (plane animates along route)
  let playing = false; let segIndex = 0; let t = 0; // t in [0,1] within segment
  // Time-based animation: set plane speed in km/h
  const speedKmh = 650; // adjust for faster/slower animation
  let lastTs = null;

    function lerp(a,b,t){ return [ a[0] + (b[0]-a[0])*t, a[1] + (b[1]-a[1])*t ]; }
    function bearing(a,b){
      const toRad = d=>d*Math.PI/180, toDeg = r=>r*180/Math.PI;
      const y = Math.sin(toRad(b[1]-a[1])) * Math.cos(toRad(b[0]));
      const x = Math.cos(toRad(a[0]))*Math.sin(toRad(b[0])) - Math.sin(toRad(a[0]))*Math.cos(toRad(b[0]))*Math.cos(toRad(b[1]-a[1]));
      return (toDeg(Math.atan2(y,x)) + 360) % 360;
    }

    function haversineKm(p1, p2){
      const R = 6371; // km
      const toRad = d=>d*Math.PI/180;
      const dLat = toRad(p2[0]-p1[0]);
      const dLon = toRad(p2[1]-p1[1]);
      const lat1 = toRad(p1[0]);
      const lat2 = toRad(p2[0]);
      const a = Math.sin(dLat/2)**2 + Math.cos(lat1)*Math.cos(lat2)*Math.sin(dLon/2)**2;
      const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
      return R * c;
    }

    function step(ts){
      if(!playing) { lastTs = null; return; }
      const a = routeLatLngs[segIndex];
      const b = routeLatLngs[(segIndex+1)%routeLatLngs.length];
      const distKm = Math.max(0.001, haversineKm(a,b));
      if (lastTs == null) lastTs = ts;
      const dtSec = (ts - lastTs)/1000;
      lastTs = ts;
      // progress fraction for this segment based on speed
      t += (speedKmh * dtSec) / distKm;
      if (t >= 1){
        t = 0;
        segIndex = (segIndex+1)%routeLatLngs.length;
        markers.forEach(m=>m.closePopup());
        markers[(segIndex)%markers.length].openPopup();
        // Fly to the plane's new segment start
        const target = routeLatLngs[segIndex];
        map.flyTo(target, map.getZoom(), { animate: true, duration: 1.6 });
      }
      const pos = lerp(a,b,t);
      plane.setLatLng(pos);
      const brg = bearing(a,b);
      const el = plane.getElement();
      if (el) {
        const inner = el.querySelector('.plane-marker i') || el.querySelector('.plane-marker');
        // fa-plane faces east by default; subtract 90deg to align 0deg with north
        if (inner) inner.style.transform = `rotate(${brg - 90}deg)`;
      }
      requestAnimationFrame(step);
    }

  function startTour(){ if(playing) return; playing = true; lastTs = null; requestAnimationFrame(step); }
  function stopTour(){ playing = false; lastTs = null; fitAll(); markers.forEach(m=>m.closePopup()); }

    // Start/Stop control with two buttons
  const TourCtrl = L.Control.extend({
      options: { position: 'topright' },
      onAdd: function(){
        const wrap = L.DomUtil.create('div', 'map-ctrl-wrap');
        const startBtn = L.DomUtil.create('button', 'map-ctrl-btn', wrap);
        startBtn.textContent = 'Start tour';
        const stopBtn = L.DomUtil.create('button', 'map-ctrl-btn', wrap);
        stopBtn.textContent = 'Stop tour';
        // prevent map interactions when using the control
        L.DomEvent.disableClickPropagation(wrap);
        L.DomEvent.on(startBtn, 'click', function(e){ L.DomEvent.stopPropagation(e); startTour(); });
        L.DomEvent.on(stopBtn, 'click', function(e){ L.DomEvent.stopPropagation(e); stopTour(); });
        return wrap;
      }
    });
    map.addControl(new TourCtrl());
  // Basemap layer control
  L.control.layers(baseLayers, {}, { position: 'topleft' }).addTo(map);

  // Listen for theme changes to switch basemap automatically
  const applyBaseForTheme = () => {
    const dark = document.documentElement.classList.contains('theme-dark');
    // Remove current base (ensure only one)
    Object.values(baseLayers).forEach(l => { if (map.hasLayer(l)) map.removeLayer(l); });
    (dark ? baseLayers['Dark'] : baseLayers['Light']).addTo(map);
  };
  // Observe class changes on root
  const obs = new MutationObserver(applyBaseForTheme);
  obs.observe(document.documentElement, { attributes: true, attributeFilter: ['class'] });
  })();
  </script>
</body>
</html>
